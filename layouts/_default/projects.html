{{ define "main" }}
<div data-pagefind-ignore="all">
    <h1>Projects</h1>
    <p style="color: var(--color-text-muted); margin-bottom: var(--spacing-xl);">
        Open source projects and side work.
    </p>

    {{ $projects := .Site.Data.projects }}
    <div class="project-list">
        {{ range $projects }}
        <article class="project-card" data-github-owner="{{ .githubOwner }}" data-github-repo="{{ .githubRepo }}">
            <div class="project-header">
                <h3 class="project-name">
                    {{ if .deployUrl }}
                    <a href="{{ .deployUrl }}" target="_blank" rel="noopener noreferrer">{{ .name }}</a>
                    {{ else }}
                    {{ .name }}
                    {{ end }}
                </h3>
                <div class="project-stats">
                    {{ if .githubUrl }}
                    <span class="stat stat-stars" title="GitHub Stars">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor">
                            <path
                                d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.75.75 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Z" />
                        </svg>
                        <span class="stat-value" data-stat="stars">--</span>
                    </span>
                    {{ end }}
                    {{ if or .githubUrl .manualDownloads }}
                    <span class="stat stat-downloads" title="Total Downloads">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor">
                            <path
                                d="M2.75 14A1.75 1.75 0 0 1 1 12.25v-2.5a.75.75 0 0 1 1.5 0v2.5c0 .138.112.25.25.25h10.5a.25.25 0 0 0 .25-.25v-2.5a.75.75 0 0 1 1.5 0v2.5A1.75 1.75 0 0 1 13.25 14Z" />
                            <path
                                d="M7.25 7.689V2a.75.75 0 0 1 1.5 0v5.689l1.97-1.969a.749.749 0 1 1 1.06 1.06l-3.25 3.25a.749.749 0 0 1-1.06 0L4.22 6.78a.749.749 0 1 1 1.06-1.06l1.97 1.969Z" />
                        </svg>
                        <span class="stat-value" data-stat="downloads">{{ if .manualDownloads }}{{ .manualDownloads }}{{
                            else }}--{{ end }}</span>
                    </span>
                    {{ end }}
                </div>
            </div>
            <div class="project-tags">
                {{ range .tags }}
                <span class="project-tag">{{ . }}</span>
                {{ end }}
            </div>
            <p class="project-description">{{ .description }}</p>
            <div class="project-links">
                {{ if .githubUrl }}
                <a href="{{ .githubUrl }}" target="_blank" rel="noopener noreferrer">Source Code →</a>
                {{ end }}
                {{ if .deployUrl }}
                <a href="{{ .deployUrl }}" target="_blank" rel="noopener noreferrer">App →</a>
                {{ end }}
            </div>
        </article>
        {{ end }}
    </div>
</div>
{{ end }}
